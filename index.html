<!DOCTYPE html>

<html>
    <head>
        <meta charset="UTF-8">
        <title>BMI Calculator</title>
        <script src="src/person.js"></script>
        <script src="src/calculator.js"></script>
        <script type="text/javascript">
            methodSelectElement = document.getElementById('mySelect');
            calculateForm = document.getElementById('calculate');
            metricInputs = document.getElementById('metric-input');
            imperialInputs = document.getElementById('imperial-input');
            displayValueElement = document.getElementById('display_value');
            displayMessageElement = document.getElementById('display_message');

            calculationMethod = 'metric'

            metricInput.style.display = '';
            imperialInput.style.display = 'none';

            document.addEventListener('DOMContentLoaded', () => {
                methodSelectElement.addEventListener('change', event => {    
                    switchCalculationMethod(event.target.value);
            });

            calculateForm.addEventListener('submit', event => {
                event.preventDefault();
                calculateBMI(selectElement)
                    .then(person => {
                        displayValueElement.innerHTML = `Your BMI is ${person.bmiValue}`;
                        displayMessageElement.innerHTML = `and you are ${person.bmiMessage}`;
                    })
            })
        })
        </script>
    </head>
    <body>
        <form>
            <input type="text" id="weight" placeholder="Weight in kg.">
            <input type="text" id="height" placeholder="Height in cm.">
            <input type="button" id="calculate" value="Calculate BMI">
        </form>
        <div>
            <span id="display_value"></span>
            <span id="display_message"></span>
        </div>
    </body>
</html>